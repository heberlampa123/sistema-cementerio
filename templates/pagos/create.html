{% extends "base.html" %}

{% block title %}Registrar Pago{% endblock %}

{% block content %}
<div class="form-container">
    <div class="form-card">
        <h2 class="form-title">Registrar Pago</h2>

        <form action="{{ url_for('pago.create') }}" method="POST" class="cliente-form">
            <div class="input-group mb-3">
                <label class="form-label">Servicio</label>
                <select name="servicio_id" class="form-input" required>
                    <option value="">Seleccione un servicio</option>
                    {% for servicio in servicios %}
                        <option value="{{ servicio.id }}">
                            {% if servicio.tipo_servicio %}{{ servicio.tipo_servicio.tipo }}{% else %}Servicio #{{ servicio.id }}{% endif %}
                            - {{ servicio.fecha.strftime("%Y-%m-%d") if servicio.fecha else "" }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="input-group mb-3">
                <label class="form-label">Registrado por</label>
                <input type="text" class="form-input" value="{{ session['usuario_nombre'] }}" readonly>
                <input type="hidden" name="usuario_id" value="{{ session['usuario_id'] }}">
            </div>

            <div class="input-group mb-3">
                <label class="form-label">MÃ©todo</label>
                <select name="metodo" class="form-input" required>
                    <option value="Efectivo">Efectivo</option>
                    <option value="Tarjeta">Tarjeta</option>
                    <option value="Transferencia">Transferencia</option>
                    <option value="Otro">Otro</option>
                </select>
            </div>

            <div class="input-group mb-3">
                <label class="form-label">Monto (Bs)</label>
                <input type="number" name="monto" class="form-input" step="0.01" min="0" required>
            </div>

            <div class="input-group mb-3">
                <label class="form-label">Observaciones</label>
                <textarea name="observaciones" class="form-input" rows="3"></textarea>
            </div>

            <div class="d-flex justify-content-end">
                <button class="btn-guardar" type="submit">Guardar</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
